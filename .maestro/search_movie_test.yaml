appId: com.dopayurii.movie
---
# Test: Search for movies and verify list displays correctly

# 1. Wait for app to be ready and verify initial state
- waitForAnimationToEnd:
    timeout: 5000
- assertVisible: "Search for movies, series, and episodes"

# 2. Tap on search bar and type query
- tapOn:
    text: "Find a movie"
- inputText: "Batman"

# 3. Wait for search results to load
- extendedWaitUntil:
    notVisible: "Search for movies, series, and episodes"
    timeout: 10000

# 4. Verify search results are displayed (check for movie title or year pattern)
- assertVisible:
    text: "Batman"
    optional: true
- assertVisible:
    text: "20"
    optional: true

# 5. Verify the search bar shows the query
- assertVisible: "Batman"

# 6. Scroll down to verify more results can load
- scrollUntilVisible:
    element:
      text: "Batman"
    direction: DOWN

# 7. Clear the search and verify initial state returns
- tapOn:
    contentDescription: "Clear search"
- waitForAnimationToEnd:
    timeout: 2000
- assertVisible: "Search for movies, series, and episodes"

# 8. Test search with different query
- tapOn:
    text: "Find a movie"
- inputText: "Star Wars"
- extendedWaitUntil:
    notVisible: "Search for movies, series, and episodes"
    timeout: 10000
- assertVisible:
    text: "Star"
    optional: true
